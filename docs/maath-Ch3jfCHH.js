import{V as L}from"./three-DTAtk218.js";function d(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function U(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),e.push.apply(e,n)}return e}function O(t){for(var r=1;r<arguments.length;r++){var e=arguments[r]!=null?arguments[r]:{};r%2?U(Object(e),!0).forEach(function(n){d(t,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):U(Object(e)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})}return t}new L;new L;function E(t){return t*t*t*(t*(t*6-15)+10)}function I(t,r,e){return t*(1-e)+r*e}function V(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function ie(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function oe(t,r,e){return r&&ie(t.prototype,r),t}var D=function t(r,e,n){var a=this;V(this,t),d(this,"dot2",function(i,s){return a.x*i+a.y*s}),d(this,"dot3",function(i,s,l){return a.x*i+a.y*s+a.z*l}),this.x=r,this.y=e,this.z=n},le=[new D(1,1,0),new D(-1,1,0),new D(1,-1,0),new D(-1,-1,0),new D(1,0,1),new D(-1,0,1),new D(1,0,-1),new D(-1,0,-1),new D(0,1,1),new D(0,-1,1),new D(0,1,-1),new D(0,-1,-1)],H=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],v=new Array(512),c=new Array(512),Q=function(r){r>0&&r<1&&(r*=65536),r=Math.floor(r),r<256&&(r|=r<<8);for(var e=0;e<256;e++){var n;e&1?n=H[e]^r&255:n=H[e]^r>>8&255,v[e]=v[e+256]=n,c[e]=c[e+256]=le[n%12]}};Q(0);var ue=.5*(Math.sqrt(3)-1),k=(3-Math.sqrt(3))/6,ve=1/3,F=1/6,he=function(r,e){var n,a,i,s=(r+e)*ue,l=Math.floor(r+s),u=Math.floor(e+s),o=(l+u)*k,h=r-l+o,f=e-u+o,j,m;h>f?(j=1,m=0):(j=0,m=1);var p=h-j+k,g=f-m+k,w=h-1+2*k,M=f-1+2*k;l&=255,u&=255;var x=c[l+v[u]],B=c[l+j+v[u+m]],C=c[l+1+v[u+1]],y=.5-h*h-f*f;y<0?n=0:(y*=y,n=y*y*x.dot2(h,f));var P=.5-p*p-g*g;P<0?a=0:(P*=P,a=P*P*B.dot2(p,g));var S=.5-w*w-M*M;return S<0?i=0:(S*=S,i=S*S*C.dot2(w,M)),70*(n+a+i)},ce=function(r,e,n){var a,i,s,l,u=(r+e+n)*ve,o=Math.floor(r+u),h=Math.floor(e+u),f=Math.floor(n+u),j=(o+h+f)*F,m=r-o+j,p=e-h+j,g=n-f+j,w,M,x,B,C,y;m>=p?p>=g?(w=1,M=0,x=0,B=1,C=1,y=0):m>=g?(w=1,M=0,x=0,B=1,C=0,y=1):(w=0,M=0,x=1,B=1,C=0,y=1):p<g?(w=0,M=0,x=1,B=0,C=1,y=1):m<g?(w=0,M=1,x=0,B=0,C=1,y=1):(w=0,M=1,x=0,B=1,C=1,y=0);var P=m-w+F,S=p-M+F,T=g-x+F,X=m-B+2*F,Y=p-C+2*F,q=g-y+2*F,A=m-1+3*F,N=p-1+3*F,Z=g-1+3*F;o&=255,h&=255,f&=255;var re=c[o+v[h+v[f]]],ne=c[o+w+v[h+M+v[f+x]]],ae=c[o+B+v[h+C+v[f+y]]],se=c[o+1+v[h+1+v[f+1]]],G=.6-m*m-p*p-g*g;G<0?a=0:(G*=G,a=G*G*re.dot3(m,p,g));var b=.6-P*P-S*S-T*T;b<0?i=0:(b*=b,i=b*b*ne.dot3(P,S,T));var R=.6-X*X-Y*Y-q*q;R<0?s=0:(R*=R,s=R*R*ae.dot3(X,Y,q));var $=.6-A*A-N*N-Z*Z;return $<0?l=0:($*=$,l=$*$*se.dot3(A,N,Z)),32*(a+i+s+l)},fe=function(r,e){var n=Math.floor(r),a=Math.floor(e);r=r-n,e=e-a,n=n&255,a=a&255;var i=c[n+v[a]].dot2(r,e),s=c[n+v[a+1]].dot2(r,e-1),l=c[n+1+v[a]].dot2(r-1,e),u=c[n+1+v[a+1]].dot2(r-1,e-1),o=E(r);return I(I(i,l,o),I(s,u,o),E(e))},de=function(r,e,n){var a=Math.floor(r),i=Math.floor(e),s=Math.floor(n);r=r-a,e=e-i,n=n-s,a=a&255,i=i&255,s=s&255;var l=c[a+v[i+v[s]]].dot3(r,e,n),u=c[a+v[i+v[s+1]]].dot3(r,e,n-1),o=c[a+v[i+1+v[s]]].dot3(r,e-1,n),h=c[a+v[i+1+v[s+1]]].dot3(r,e-1,n-1),f=c[a+1+v[i+v[s]]].dot3(r-1,e,n),j=c[a+1+v[i+v[s+1]]].dot3(r-1,e,n-1),m=c[a+1+v[i+1+v[s]]].dot3(r-1,e-1,n),p=c[a+1+v[i+1+v[s+1]]].dot3(r-1,e-1,n-1),g=E(r),w=E(e),M=E(n);return I(I(I(l,f,g),I(u,j,g),M),I(I(o,m,g),I(h,p,g),M),w)},ge=Object.freeze({__proto__:null,seed:Q,simplex2:he,simplex3:ce,perlin2:fe,perlin3:de}),K=Math.PI*2,me=function(){function t(r){V(this,t),d(this,"nextBurstTime",0),d(this,"nextFlashEndTime",0),d(this,"flashesDone",0),d(this,"isFlashing",!1),d(this,"currentCount",0),d(this,"flashIntensity",0),d(this,"isDecaying",!1),d(this,"autoBurst",!0),d(this,"decaySpeed",40),d(this,"minInterval",5e3),d(this,"maxInterval",1e4),d(this,"minDuration",50),d(this,"maxDuration",300),d(this,"count",5),Object.assign(this,r)}return oe(t,[{key:"scheduleNextBurst",value:function(e){var n=Math.random()*(this.maxInterval-this.minInterval)+this.minInterval;this.nextBurstTime=e+n/1e3,this.flashesDone=0,this.isFlashing=!1}},{key:"burst",value:function(){this.nextBurstTime=0,this.flashesDone=0,this.isFlashing=!1}},{key:"update",value:function(e,n){if(e>this.nextBurstTime&&this.currentCount===0&&(this.currentCount=Math.floor(Math.random()*this.count)+1),this.flashesDone<this.currentCount&&e>this.nextBurstTime)if(this.isFlashing)this.isFlashing&&e>this.nextFlashEndTime&&(this.isFlashing=!1,this.isDecaying=!0,this.flashesDone++,this.flashesDone>=this.currentCount&&(this.currentCount=0,this.autoBurst&&this.scheduleNextBurst(e)));else{this.isFlashing=!0,this.flashIntensity=1;var a=Math.random()*(this.maxDuration-this.minDuration)+this.minDuration;this.nextFlashEndTime=e+a/1e3}return this.isDecaying&&(this.flashIntensity-=n*this.decaySpeed,this.flashIntensity=Math.max(0,Math.min(1,this.flashIntensity)),this.flashIntensity<=0&&(this.isDecaying=!1,this.flashIntensity=0)),this.flashIntensity}}]),t}();function pe(t){if(typeof t=="number")t=Math.abs(t);else if(typeof t=="string"){var r=t;t=0;for(var e=0;e<r.length;e++)t=(t+(e+1)*(r.charCodeAt(e)%96))%2147483647}return t===0&&(t=311),t}function J(t){var r=pe(t);return function(){var e=r*48271%2147483647;return r=e,e/2147483647}}var W=function t(r){var e=this;V(this,t),d(this,"seed",0),d(this,"init",function(n){e.seed=n,e.value=J(n)}),d(this,"value",J(this.seed)),this.init(r)},_=new W(Math.random()),z={radius:1,center:[0,0,0]};function Me(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,n=O(O({},z),r),a=n.radius,i=n.center,s=0;s<t.length;s+=3){var l=e.value(),u=e.value(),o=Math.acos(2*u-1),h=K*l;t[s]=Math.sin(o)*Math.cos(h)*a+i[0],t[s+1]=Math.sin(o)*Math.sin(h)*a+i[1],t[s+2]=Math.cos(o)*a+i[2]}return t}function we(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,n=O(O({},z),r),a=n.radius,i=n.center,s=0;s<t.length;s+=3){var l=Math.pow(e.value(),.3333333333333333),u=e.value()*2-1,o=e.value()*2-1,h=e.value()*2-1,f=Math.sqrt(u*u+o*o+h*h);u=l*u/f,o=l*o/f,h=l*h/f,t[s]=u*a+i[0],t[s+1]=o*a+i[1],t[s+2]=h*a+i[2]}return t}var ee={radius:1,center:[0,0]};function ye(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,n=O(O({},ee),r),a=n.radius,i=n.center,s=0;s<t.length;s+=2){var l=a*Math.sqrt(e.value()),u=e.value()*K;t[s]=Math.sin(u)*l+i[0],t[s+1]=Math.cos(u)*l+i[1]}return t}function Oe(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,n=O(O({},ee),r),a=n.radius,i=n.center,s=0;s<t.length;s+=2){var l=e.value()*K;t[s]=Math.sin(l)*a+i[0],t[s+1]=Math.cos(l)*a+i[1]}return t}var De={sides:1,center:[0,0]};function je(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,n=O(O({},De),r),a=n.sides,i=n.center,s=typeof a=="number"?a:a[0],l=typeof a=="number"?a:a[1],u=0;u<t.length;u+=2)t[u]=(e.value()-.5)*s+i[0],t[u+1]=(e.value()-.5)*l+i[1];return t}function xe(t,r){return t}function Be(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,n=O(O({},te),r),a=n.sides,i=n.center,s=typeof a=="number"?a:a[0],l=typeof a=="number"?a:a[1],u=typeof a=="number"?a:a[2],o=0;o<t.length;o+=3)t[o]=(e.value()-.5)*s+i[0],t[o+1]=(e.value()-.5)*l+i[1],t[o+2]=(e.value()-.5)*u+i[2];return t}var te={sides:1,center:[0,0,0]};function Ce(t,r){for(var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_,n=O(O({},te),r),a=n.sides,i=n.center,s=typeof a=="number"?a:a[0],l=typeof a=="number"?a:a[1],u=typeof a=="number"?a:a[2],o=0;o<t.length;o+=3)t[o]=(e.value()-.5)*s+i[0],t[o+1]=(e.value()-.5)*l+i[1],t[o+2]=(e.value()-.5)*u+i[2];return t}var Ie=Object.freeze({__proto__:null,FlashGen:me,Generator:W,onSphere:Me,inSphere:we,inCircle:ye,onCircle:Oe,inRect:je,onRect:xe,inBox:Be,onBox:Ce,noise:ge});export{Ie as i};
